import{defineComponent as e,inject as l,ref as a,watch as n,computed as t,h as u}from"vue";import o from"highlight.js/lib/core";var r=Symbol("__HLJS_INSTANCE_KEY__"),g=e({props:{code:{type:String,required:!0},language:{type:String,default:""},autodetect:{type:Boolean,default:!0},ignoreIllegals:{type:Boolean,default:!0}},setup:function(e){var u,g=null!==(u=l(r))&&void 0!==u?u:o,i=a(e.language);n((function(){return e.language}),(function(e){i.value=e}));var c=t((function(){return e.autodetect||!i.value})),d=t((function(){return!c.value&&!g.getLanguage(i.value)}));return{className:t((function(){return d.value?"":"hljs "+i.value})),highlightedCode:t((function(){var l;if(d.value)return console.warn('The language "'+i.value+'" you specified could not be found.'),e.code.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;");if(c.value){var a=g.highlightAuto(e.code);return i.value=null!==(l=a.language)&&void 0!==l?l:"",a.value}return(a=g.highlight(e.code,{language:i.value,ignoreIllegals:e.ignoreIllegals})).value}))}},render:function(){return u("pre",{},[u("code",{class:this.className,innerHTML:this.highlightedCode})])}}),i={install:function(e){e.component("highlightjs",g)},HLJS_INSTANCE_KEY:r,component:g};export default i;
